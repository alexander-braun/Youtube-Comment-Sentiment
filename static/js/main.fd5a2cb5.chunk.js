(this.webpackJsonpconsensus=this.webpackJsonpconsensus||[]).push([[0],{153:function(e,t,n){e.exports=n(360)},360:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(48),o=n.n(c),i=n(13),s=n(20),u=n.n(s),l=n(53),m=n(19),f=n(7),v=(n(73),n(125)),h=n.n(v),b=n(373),p=function(e){return{type:"SET_SENTIMENT",sentiment:e}},d=function(e){return{type:"SET_SENTIMENT_COUNT",sentimentCount:e}},O=function(e){return{type:"SET_HIGHEST_COMMENT",highestComment:e}},g=function(e){return{type:"SET_LOWEST_COMMENT",lowestComment:e}},E=function(e){return{type:"SET_COMMENT_COUNT",commentCount:e}},y=function(e){return{type:"SET_KEYCOUNTS",keyCounts:e}},j=function(e){return{type:"SET_VIDEO_TITLE",videoTitle:e}},x=n(58).SentimentAnalyzer,T=n(58).PorterStemmer,C=n(58),w=n(290),S="AIzaSyDZXXhdF-iJYMu3an0Z8XXs99eiT5UP9QI",k=Object(b.a)((function(e){return{searchIcon:{color:"rgba(128, 128, 128, 0.5)",position:"absolute",right:"10px",cursor:"pointer"}}})),N=function(e){for(var t=[],n=0;n<e.length;n++){var r=w.extract(e[n],{language:"english",remove_digits:!0,return_changed_case:!0,remove_duplicates:!1});t.push(r)}return t},_=function(e){for(var t=[],n=0;n<e.length;n++){var r,a=Object(m.a)(e[n]);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(c){var o=c.toLowerCase();-1===t.indexOf(o)&&t.push(o)}}}catch(v){a.e(v)}finally{a.f()}}for(var i={},s=0;s<e.length;s++){var u,l=Object(m.a)(e[s]);try{for(l.s();!(u=l.n()).done;){var f=u.value;i[f]&&i[f]++,!i[f]&&(i[f]=1)}}catch(v){l.e(v)}finally{l.f()}}return i},M=function(e){for(var t=new x("English",T,"afinn"),n=new C.WordTokenizer,r=e.length,a=parseFloat(0),c=[0,0],o=[-10,null],i=[10,null],s=0;s<r;s++){var u=n.tokenize(e[s]),l=parseFloat(t.getSentiment(u));l>0&&c[0]++,l<0&&c[1]++,l>o[0]&&(o[0]=l)&&(o[1]=e[s]),l<i[0]&&(i[0]=l)&&(i[1]=e[s]),isNaN(l)||(a+=l)}return[a/r,c,o,i]},I=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n][0]);return t},D=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||void 0===t){e.next=12;break}return n="https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(t,"&fields=items(id%2Csnippet)&key=").concat(S),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.next=10,a.items[0].snippet.title;case 10:return c=e.sent,e.abrupt("return",c);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var L=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(),s=Object(i.a)(o,2),m=s[0],v=s[1],b=Object(f.b)();Object(r.useEffect)((function(){var e=function(e){var t=e.search("=");return e.slice(t+1)}(n);v(e)}),[n]);var x=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,o,i,s,l,f,v,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D(m);case 3:return n=e.sent,b(j(n)),e.next=7,T();case 7:if(0!==(r=e.sent).length){e.next=10;break}return e.abrupt("return");case 10:r=r.flat(),a=I(r),c=a.length,b(E(c)),o=M(a),i=o[0],s=o[1],l=o[2],f=o[3],b(p(i)),b(d(s)),b(O(l)),b(g(f)),v=N(a),h=_(v),b(y(h));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=m;function t(e,t){return n.apply(this,arguments)}function n(){return(n=Object(l.a)(u.a.mark((function n(r,a){var c,o,i,s,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r.length>=.1)){n.next=2;break}return n.abrupt("return",r);case 2:return c=a?"https://www.googleapis.com/youtube/v3/commentThreads?key=".concat(S,"&textFormat=plainText&part=snippet&videoId=").concat(e,"&maxResults=").concat(100,"&pageToken=").concat(a):"https://www.googleapis.com/youtube/v3/commentThreads?key=".concat(S,"&textFormat=plainText&part=snippet&videoId=").concat(e,"&maxResults=").concat(100),n.next=5,fetch(c);case 5:return o=n.sent,n.next=8,o.json();case 8:return i=n.sent,n.next=11,i.nextPageToken;case 11:return s=n.sent,n.next=14,i.items.map((function(e){return[e.snippet.topLevelComment.snippet.textDisplay,e.snippet.topLevelComment.snippet.likeCount]}));case 14:if(l=n.sent,r.push(l),!s){n.next=20;break}return n.abrupt("return",t(r,s));case 20:if(s){n.next=22;break}return n.abrupt("return",r);case 22:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return t([],null)},C=k();return a.a.createElement("div",{className:"settings"},a.a.createElement("form",null,a.a.createElement("input",{placeholder:"Enter Youtube Video Link...",type:"text",id:"video-link",name:"video-link",onChange:function(e){return c(e.target.value)},value:n}),a.a.createElement(h.a,{className:C.searchIcon,onClick:x})),a.a.createElement("button",{onClick:x,value:"Search"},"Search"))},A=n(4),F=n(126),U=function(e){var t=Object(r.useState)(null),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){var t=e.current,n=new F.a((function(e){e.forEach((function(e){c(e.contentRect)}))}));return n.observe(t),function(){n.unobserve(t)}}),[e]),a};var z=function(e){var t,n,c,o=e.data,s=Object(r.useRef)(),u=Object(r.useRef)(),l=U(u),f=Object.entries(o),v=[],h=function(){var e,t=Object(m.a)(f);try{for(t.s();!(e=t.n()).done;){var n=e.value;v.push(n[1])}}catch(a){t.e(a)}finally{t.f()}v.sort(),v=v.slice(v.length-25);var r=0;return f.filter((function(e){if(-1!==v.indexOf(e[1])&&r<25)return r++,e}))}(),b=[],p=Object(m.a)(h);try{for(p.s();!(t=p.n()).done;){var d=t.value;if(d[1]>1){if(-1==="abcdefghijklmnopqrstuvwxyz".indexOf(d[0][0]))continue;var O={};O[d[0]]=d[1],b.push(O)}}}catch(x){p.e(x)}finally{p.f()}if(0!==b.length){var g,E=[],y=Object(m.a)(b);try{for(y.s();!(g=y.n()).done;){var j=g.value;E.push(j[Object.keys(j).join("")])}}catch(x){y.e(x)}finally{y.f()}n=A.j(E),c=A.i(E)}return Object(r.useEffect)((function(){if(l){Object(A.h)(b).descendants();var e=Object(A.o)(s.current),t=Object(A.m)().domain(new Set(v)).range(["#00e8e8","#F2CB05","#F28705","#D92818","#D94141","#0ba3ff","#6aafda"]),r=A.n().domain([n,c]).range([30,70]);e.style("width","100%").style("height","100%"),e.attr("viewbox","0 0 ".concat(l.width," ").concat(l.height));var a=Object(A.e)(b).force("charge",Object(A.c)().strength(10)).force("collide",Object(A.b)().radius((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];if("index"!==a&&"vx"!==a&&"vy"!==a&&"x"!==a&&"y"!==a)return r(o[a])}}))).force("center",Object(A.a)(l.width/2,l.height/2)).on("tick",(function(){e.selectAll(".node").data(b).join("circle").attr("class","node").attr("r",(function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];if("index"!==a&&"vx"!==a&&"vy"!==a&&"x"!==a&&"y"!==a)return r(o[a])}})).style("fill",(function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if("index"!==a&&"vx"!==a&&"vy"!==a&&"x"!==a&&"y"!==a)return t(o[a])}})).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),e.selectAll(".label").data(b).join("text").attr("class","label").attr("text-anchor","middle").attr("font-size",(function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];if("index"!==a&&"vx"!==a&&"vy"!==a&&"x"!==a&&"y"!==a)return r(o[a])/3}})).attr("font-family","Open Sans").style("fill","black").attr("font-weight","600").text((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("index"!==r&&"vx"!==r&&"vy"!==r&&"x"!==r&&"y"!==r)return r[0].toUpperCase()+r.slice(1)}})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),e.on("click",(function(){var e=Object(A.k)(s.current),t=Object(i.a)(e,2),n=t[0],r=t[1];a.alpha(.5).restart().force("orbit",Object(A.d)(100,n,r).strength(.1))})),e.on("mousemove",(function(){var e=Object(A.k)(s.current),t=Object(i.a)(e,2),n=t[0],r=t[1];a.force("x",Object(A.f)(n).strength(.2)).force("y",Object(A.g)(r).strength(.2))}))}))}}),[l,b,o,c,n]),a.a.createElement("div",{ref:u,className:"bubblechart"},a.a.createElement("h4",null,"Most used keywords:"),a.a.createElement("svg",{ref:s}))};var R=function(e){var t=e.lowestComment,n=e.highestComment,r=Object(A.l)().domain([-2,2]).range(["rgb(238, 0, 0)","rgb(66, 230, 0)"]),c={color:r(n[0])};console.log(r(t));var o={color:r(t[0])};return a.a.createElement("div",{className:"maxcomments"},a.a.createElement("h4",null,"Highest vs. Lowest Sentiment:"),a.a.createElement("div",{className:"max_c_element"},a.a.createElement("div",{className:"text",style:c},n&&(n[0]>0?"+":"")+n[0].toString().slice(0,5)),a.a.createElement("div",{className:"sentiment"},'"'.concat(n[1],'"'))),a.a.createElement("div",{className:"max_c_element"},a.a.createElement("div",{className:"text",style:o},t&&(t[0]>0?"+":"")+t[0].toString().slice(0,5)),a.a.createElement("div",{className:"sentiment"},'"'.concat(t[1],'"'))))};var W=function(e){var t=e.sentiment,n={color:Object(A.l)().domain([-.4,.4]).range(["rgb(238, 0, 0)","rgb(66, 230, 0)"])(t)};return a.a.createElement("div",{className:"average_sentiment"},a.a.createElement("h4",null,"Average Sentiment / 100 comments:"),a.a.createElement("div",{style:n},(t>0?"+":"")+t.toString().slice(0,4)))};var H=function(){var e=Object(f.c)((function(e){return e.sentiment.sentiment})),t=(Object(f.c)((function(e){return e.sentiment.sentimentCount})),Object(f.c)((function(e){return e.sentiment.highestComment}))),n=Object(f.c)((function(e){return e.sentiment.lowestComment})),r=(Object(f.c)((function(e){return e.videoTitle})),Object(f.c)((function(e){return e.keyCounts})));return Object(f.c)((function(e){return e.sentiment.commentCount})),e?a.a.createElement("div",{className:"Display"},a.a.createElement(R,{lowestComment:n,highestComment:t}),a.a.createElement(W,{sentiment:e}),a.a.createElement(z,{data:r})):null};var Y=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Consensus"),a.a.createElement("p",{className:"subheading"},"AFINN Youtube Sentiment Analysis"),a.a.createElement(L,null),a.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(12),B=n(127),J=n(128),P=n(9),V={sentiment:0,sentimentCount:[null,null],highestComment:"",lowestComment:"",commentCount:0},G=Object(X.combineReducers)({videoTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEO_TITLE":return t.videoTitle;default:return e}},sentiment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SENTIMENT":return Object(P.a)(Object(P.a)({},e),{},{sentiment:t.sentiment});case"SET_SENTIMENT_COUNT":return Object(P.a)(Object(P.a)({},e),{},{sentimentCount:t.sentimentCount});case"SET_HIGHEST_COMMENT":return Object(P.a)(Object(P.a)({},e),{},{highestComment:t.highestComment});case"SET_LOWEST_COMMENT":return Object(P.a)(Object(P.a)({},e),{},{lowestComment:t.lowestComment});case"SET_COMMENT_COUNT":return Object(P.a)(Object(P.a)({},e),{},{commentCount:t.commentCount});default:return e}},keyCounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_KEYCOUNTS":return t.keyCounts;default:return e}}}),K=[J.a],Z=Object(X.createStore)(G,{},Object(B.composeWithDevTools)(X.applyMiddleware.apply(void 0,K)));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f.a,{store:Z},a.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.fd5a2cb5.chunk.js.map